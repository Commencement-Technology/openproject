<% content_for :header_tags do %>
  <meta name="sidebar_enabled" data-enabled="<%= @sidebar_enabled %>">
<% end -%>

<%=
  render(Primer::OpenProject::PageHeader.new(data: { turbo: true })) do |header|
    header.with_title(variant: :medium) { t("overviews.label") }
    header.with_breadcrumbs(
      [
        { href: project_path(@project), text: @project.name },
        t("overviews.label")
      ]
    )
    if OpenProject::FeatureDecisions.favorite_projects_active?
      favored = @project.favored_by?(User.current)
      header.with_action_icon_button(
        icon: favored ? "star-fill" : "star",
        mobile_icon: favored ? "star-fill" : "star",
        size: :medium,
        tag: :a,
        href: build_favorite_path(@project, format: :html),
        data: { method: favored ? :delete : :post },
        classes: "op-primer--star-icon",
        label: favored ? I18n.t(:button_unfavorite) : I18n.t(:button_favorite),
        aria: { label: favored ? I18n.t(:button_unfavorite) : I18n.t(:button_favorite) },
        test_selector: 'project-favorite-button'
      )
    end
  end
%>

<openproject-base></openproject-base>
