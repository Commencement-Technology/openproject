<% html_title(t('team_planner.label_team_planner_plural')) -%>

<%=
  render Primer::OpenProject::PageHeader.new do |header|
    header.with_title { t('team_planner.label_team_planner_plural') }
    header.with_breadcrumbs([{ href: home_path, text: organization_name},
                             { href: project_overview_path(@project.id), text: @project.name },
                             t('team_planner.label_team_planner_plural')])
  end
%>
<% if @show_create_button %>
  <%=
    render Primer::OpenProject::SubHeader.new do |subheader|
      subheader.with_action_button(scheme: :primary,
                                   aria: { label: I18n.t("team_planner.label_create_new_team_planner") },
                                   title: t(:"team_planner.label_team_planner"),
                                   tag: :a,
                                   id: "add-team-planner-button",
                                   href: polymorphic_path([:new, @project, :team_planners]),
                                   data: { "test-selector": "add-team-planner-button"}) do |button|
        button.with_leading_visual_icon(icon: :plus)
        t(:"team_planner.label_team_planner")
      end
    end
  %>
<% end %>
<%= render ::TeamPlanner::TableComponent.new(rows: @views, current_user: current_user) %>
